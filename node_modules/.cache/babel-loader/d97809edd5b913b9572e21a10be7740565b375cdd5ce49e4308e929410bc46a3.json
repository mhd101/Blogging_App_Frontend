{"ast":null,"code":"var _jsxFileName = \"/home/mhd101/Web_Development/Projects/mern-blog/client/src/pages/EditPost.js\",\n  _s = $RefreshSig$();\nimport ReactQuill from 'react-quill';\nimport { useEffect, useState } from 'react';\nimport 'react-quill/dist/quill.snow.css';\nimport { Navigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst modules = {\n  toolbar: [[{\n    header: [1, 2, false]\n  }], ['bold', 'italic', 'underline', 'strike', 'blockquote'], [{\n    list: 'ordered'\n  }, {\n    list: 'bullet'\n  }, {\n    indent: '-1'\n  }, {\n    indent: '+1'\n  }], ['link', 'image'], ['clean']]\n};\nexport const EditPost = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [title, setTitle] = useState('');\n  const [summary, setSummary] = useState('');\n  const [content, setContent] = useState('');\n  const [files, setFiles] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  useEffect(() => {\n    fetch('http://localhost:4000/post/' + id).then(response => {\n      response.json().then(postInfo => {\n        setTitle(postInfo.title);\n        setContent(postInfo.content);\n        setSummary(postInfo.summary);\n      });\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  async function updatePost(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.set('title', title);\n    data.set('summary', summary);\n    data.set('content', content);\n    data.set('id', id);\n    if (files !== null && files !== void 0 && files[0]) {\n      data.set('file', files === null || files === void 0 ? void 0 : files[0]);\n    }\n    const response = await fetch('http://localhost:4000/post', {\n      method: 'PUT',\n      body: data,\n      credentials: 'include'\n    });\n    if (response.ok) {\n      alert('Post Update');\n      setRedirect(true);\n    }\n  }\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: '/post/' + id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: updatePost,\n    className: \"create-post-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"title\",\n      placeholder: 'Title',\n      value: title,\n      onChange: ev => setTitle(ev.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"summary\",\n      placeholder: 'Summary',\n      value: summary,\n      onChange: ev => setSummary(ev.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      className: \"select\",\n      onChange: ev => setFiles(ev.target.files)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n      value: content,\n      className: \"quill\",\n      onChange: newValue => setContent(newValue),\n      modules: modules,\n      theme: 'snow',\n      placeholder: \"Write your blog here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"create-post-btn\",\n      children: \"Update Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(EditPost, \"SWeWs96/egz7g6t3+M8cF+lU5vQ=\", false, function () {\n  return [useParams];\n});\n_c = EditPost;\nexport default EditPost;\nvar _c;\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["ReactQuill","useEffect","useState","Navigate","useParams","jsxDEV","_jsxDEV","modules","toolbar","header","list","indent","EditPost","_s","id","title","setTitle","summary","setSummary","content","setContent","files","setFiles","redirect","setRedirect","fetch","then","response","json","postInfo","updatePost","ev","preventDefault","data","FormData","set","method","body","credentials","ok","alert","to","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","className","children","type","placeholder","value","onChange","target","newValue","theme","_c","$RefreshReg$"],"sources":["/home/mhd101/Web_Development/Projects/mern-blog/client/src/pages/EditPost.js"],"sourcesContent":["import ReactQuill from 'react-quill'\nimport { useEffect, useState } from 'react'\nimport 'react-quill/dist/quill.snow.css'\nimport { Navigate, useParams } from 'react-router-dom';\n\nconst modules = {\n  toolbar: [\n    [{ header: [1, 2, false] }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [\n      { list: 'ordered' },\n      { list: 'bullet' },\n      { indent: '-1' },\n      { indent: '+1' },\n    ],\n    ['link', 'image'],\n    ['clean'],\n  ],\n};\n\nexport const EditPost = () => {\n  const { id } = useParams();\n  const [title, setTitle] = useState('');\n  const [summary, setSummary] = useState('');\n  const [content, setContent] = useState('');\n  const [files, setFiles] = useState('');\n  const [redirect, setRedirect] = useState(false);\n\n  useEffect(() => {\n    fetch('http://localhost:4000/post/' + id)\n      .then(response => {\n        response.json().then(postInfo => {\n          setTitle(postInfo.title);\n          setContent(postInfo.content);\n          setSummary(postInfo.summary);\n        });\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function updatePost(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.set('title', title);\n    data.set('summary', summary);\n    data.set('content', content);\n    data.set('id', id);\n    if (files?.[0]) {\n      data.set('file', files?.[0]);\n    }\n    const response = await fetch('http://localhost:4000/post', {\n      method: 'PUT',\n      body: data,\n      credentials: 'include',\n    });\n    if (response.ok) {\n      alert('Post Update')\n      setRedirect(true);\n    }\n  }\n\n  if (redirect) {\n    return <Navigate to={'/post/' + id} />\n  }\n\n  return (\n    <form onSubmit={updatePost} className='create-post-container'>\n      <input type=\"title\"\n        placeholder={'Title'}\n        value={title}\n        onChange={ev => setTitle(ev.target.value)} />\n      <input type=\"summary\"\n        placeholder={'Summary'}\n        value={summary}\n        onChange={ev => setSummary(ev.target.value)} />\n      <input type=\"file\"\n      className='select'\n        onChange={ev => setFiles(ev.target.files)} />\n      <ReactQuill value={content}\n        className='quill'\n        onChange={newValue => setContent(newValue)}\n        modules={modules}\n        theme={'snow'}\n        placeholder=\"Write your blog here\" />\n      <button className='create-post-btn'>Update Post</button>\n    </form>\n  )\n}\n\nexport default EditPost\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}